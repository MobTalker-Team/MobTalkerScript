<?xml version="1.0" ?>
<project name="MobTalkerScript" default="build">
	<property name="Minecraft.libraries.location" value="${basedir}/../../Minecraft-1_6/forge/mcp/jars/libraries" />
	<property name="MobTalker2.libraries.location" value="${basedir}/../../lib" />

	<property name="src" value="${basedir}/src" />
	<property name="bin" value="${basedir}/bin" />

	<property name="version.major" value="2" />
	<property name="version.minor" value="0" />
	<property name="version.patch" value="0" />

	<path id="classpath">
		<pathelement location="${MobTalker2.libraries.location}/Antlr4-Custom.jar" />
		<pathelement location="${Minecraft.libraries.location}/com/google/guava/guava/14.0/guava-14.0.jar" />
		<pathelement location="${Minecraft.libraries.location}/org/apache/commons/commons-lang3/3.1/commons-lang3-3.1.jar" />
	</path>

	<target name="build">
		<delete includeemptydirs="true">
			<fileset dir="${bin}" erroronmissingdir="false" />
		</delete>
		<mkdir dir="${bin}" />
		
		<javac srcdir="${src}" destdir="${bin}" source="6" target="6" includeantruntime="false" >
			<classpath refid="classpath" />
		</javac>

		<!-- Build the jar -->
		<zip destfile="${MobTalker2.libraries.location}/MobTalkerScript-${version.major}.${version.minor}.${version.patch}.jar">
			<fileset dir="${bin}" />
			<zipfileset src="${MobTalker2.libraries.location}/Antlr4-Custom.jar" />
		</zip>
		
		<delete includeemptydirs="true">
			<fileset dir="${bin}" />
		</delete>
	</target>

</project>
