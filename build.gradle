buildscript {
    repositories { 
        jcenter() 
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.+'
    }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'com.github.johnrengelman.shadow'
apply from: 'deploy.gradle'

version = "2.2.3-beta"
group = "net.mobtalker.mobtalkerscript"
archivesBaseName = "MobTalkerScript"

sourceCompatibility = 1.7
targetCompatibility = 1.7

repositories {
    mavenCentral()
}

dependencies {    
    compile 'org.antlr:antlr4-runtime:4.2.2'
    compile 'org.apache.commons:commons-lang3:3.3.+'
    compile 'com.google.guava:guava:17.+'
    compile 'net.sf.jopt-simple:jopt-simple:4.5'
    
    testCompile 'junit:junit:4.+'
}

jar {}

shadowJar {
    exclude 'META-INF', 'META-INF/**'

    appendManifest {
        attributes 'Main-Class': 'net.mobtalker.mobtalkerscript.MobTalkerScript'
    }
    
    classifier = 'standalone'
}

artifacts {
    archives jar
    archives shadowJar
}
